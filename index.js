!function(){"use strict";var a=function(){this._data={}},e={data:{configurable:!0}};e.data.get=function(){return this._data},e.data.set=function(a){this._data[a]},Object.defineProperties(a.prototype,e);var t=(new a).data;t={canvas:{x:0,y:0},meta:{}};var n=document.querySelector("canvas"),i=n.getContext("2d"),c=document.querySelector("#import-images-icon"),s=document.querySelector("#import-images"),d=document.querySelector("#export-spritesheet");document.addEventListener("DOMContentLoaded",(function(){n.width=t.canvas.x,n.height=t.canvas.y})),c.addEventListener("click",(function(){s.click()})),s.addEventListener("change",(function(){[].concat(s.files).map((function(a,e){var c=new Image,s=new FileReader;s.readAsDataURL(a),s.addEventListener("load",(function(){var a=s.result;c.src=a}));var d=a.name.slice(0,a.name.indexOf("."));t.canvas.images||(t.canvas.images={}),t.canvas.images[d]||(t.canvas.images[d]={}),t.meta[d]||(t.meta[d]={}),c.addEventListener("load",(function(){for(var a in t.canvas.images[d].fileName=d,t.canvas.images[d].file=c.src,t.canvas.images[d].width=c.width,t.canvas.images[d].height=c.height,t.canvas.images[d].x=0,t.canvas.images[d].y=n.height+5,t.canvas.x=c.width>t.canvas.x?c.width:t.canvas.x,t.canvas.y+=Math.ceil(c.height+10),t.meta[d].fileName=t.canvas.images[d].fileName,t.meta[d].x=t.canvas.images[d].x,t.meta[d].y=t.canvas.images[d].y,t.meta[d].width=t.canvas.images[d].width,t.meta[d].height=t.canvas.images[d].height,n.width=t.canvas.x,n.height=t.canvas.y,t.canvas.images){var e=t.canvas.images[a],s=e.file,r=e.x,o=e.y,m=new Image;m.src=s,i.drawImage(m,r,o)}}))}))})),d.addEventListener("click",(function(){var a=document.createElement("a");a.download="spritesheet.png",a.href=n.toDataURL(),a.click();var e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t.meta,0,2));a.download="data.json",a.href=e,a.click();var i="const data = "+JSON.stringify(t.meta,0,2)+";\n\nexport default data;",c="data:text/javascript;charset=utf-8,"+encodeURIComponent(i);a.download="data.js",a.href=c,a.click(),a=null}))}();
